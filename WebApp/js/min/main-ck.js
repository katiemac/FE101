function eventWindowLoaded(){function t(t){this.dd=t,this.initEvents()}function n(){function t(t){var n=t.getContext("2d");n.beginPath(),n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.width,t.height),n.restore()}function n(){return l("#canvas","../images/ryan_gosling.jpg",function(){this.resize({width:600}),this.crop(600,600),this.render()})}function e(t,n,e,i,o,a){if(n){for(var d=n.split(" "),s=d.length,c="",r=0;s>r;r++){var l=c+d[r]+" ",f=t.measureText(l),v=f.width;v>o&&r>0?(t.fillText(c,e,i),c=d[r]+" ",i+=a):c=l}t.fillStyle="#2ac498",t.font="bold 17px sans-serif",t.fillText(c,e,i)}}function i(){e(a,this.value,c,r,d,s),l.reloadCanvasData()}var o=document.getElementById("canvas"),a=o.getContext("2d"),d=o.width-10,s=23,c=(o.width-d)/2,r=15,l=n();i(),document.getElementById("text_cnv").onkeyup=i}t.prototype={initEvents:function(){var t=this;t.dd.on("click",function(t){$(this).toggleClass("active"),t.stopPropagation()})}},$(function(){var n=new t($(".dd"));$(document).click(function(){$(n).removeClass("active")})}),n()}window.addEventListener("load",eventWindowLoaded,!1);