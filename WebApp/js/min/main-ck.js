function eventWindowLoaded(){function t(t){this.dd=t,this.initEvents()}function e(){function t(t){var e=t.getContext("2d");e.beginPath(),e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height),e.restore()}function e(){Caman("#canvas","../images/ryan_gosling.jpg",function(){this.resize({width:600}),this.crop(600,600),this.greyscale(),this.sepia(10),this.exposure(10),this.contrast(15),this.vignette("60%",35),this.render()})}function n(t,e,n,i,o,s){if(e){for(var a=e.split(" "),c=a.length,d="",r=0;c>r;r++){var h=d+a[r]+" ",l=t.measureText(h),v=l.width;v>o&&r>0?(t.fillText(d,n,i),d=a[r]+" ",i+=s):d=h}t.fillStyle="#2ac498",t.font="bold 17px sans-serif",t.fillText(d,n,i)}}function i(){n(s,this.value,d,r,a,c)}var o=document.getElementById("canvas"),s=o.getContext("2d");e();var a=o.width-10,c=23,d=(o.width-a)/2,r=15;i(),document.getElementById("text_cnv").onkeyup=i}t.prototype={initEvents:function(){var t=this;t.dd.on("click",function(t){$(this).toggleClass("active"),t.stopPropagation()})}},$(function(){var e=new t($(".dd"));$(document).click(function(){$(e).removeClass("active")})}),e()}window.addEventListener("load",eventWindowLoaded,!1);